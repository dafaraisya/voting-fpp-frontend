{"remainingRequest":"/home/dafa/voting-fpp-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dafa/voting-fpp-frontend/src/views/admin/participant/CreateParticipant.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dafa/voting-fpp-frontend/src/views/admin/participant/CreateParticipant.vue","mtime":1609125907803},{"path":"/home/dafa/voting-fpp-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dafa/voting-fpp-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/dafa/voting-fpp-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dafa/voting-fpp-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IFN3YWwgZnJvbSAnc3dlZXRhbGVydDInCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnQ3JlYXRlUGFydGljaXBhbnQnLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBkYXRhUGFydGljaXBhbnQ6IHsKICAgICAgICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgICAgICAgbmltOiAnJywKICAgICAgICAgICAgICAgIGVtYWlsOiAnJywKICAgICAgICAgICAgICAgIHNlc3Npb246IDEsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNlc3Npb25zOiBbXQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgYWRkRGF0YSgpIHsKICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgICAgJ25hbWUnOiB0aGlzLmRhdGFQYXJ0aWNpcGFudC5uYW1lLAogICAgICAgICAgICAnbmltJzogdGhpcy5kYXRhUGFydGljaXBhbnQubmltLAogICAgICAgICAgICAnZW1haWwnOiB0aGlzLmRhdGFQYXJ0aWNpcGFudC5lbWFpbCwKICAgICAgICAgICAgJ3Nlc3Npb25JZCc6IHRoaXMuc2Vzc2lvbnNbdGhpcy5kYXRhUGFydGljaXBhbnQuc2Vzc2lvbiAtIDFdLl9pZCwKICAgICAgICAgICAgJ3Nlc3Npb25OdW1iZXInOiB0aGlzLmRhdGFQYXJ0aWNpcGFudC5zZXNzaW9uLAogICAgICAgICAgICAnc2Vzc2lvbk1pbic6IHRoaXMuc2Vzc2lvbnNbdGhpcy5kYXRhUGFydGljaXBhbnQuc2Vzc2lvbiAtIDFdLnN0YXJ0LAogICAgICAgICAgICAnc2Vzc2lvbk1heCc6IHRoaXMuc2Vzc2lvbnNbdGhpcy5kYXRhUGFydGljaXBhbnQuc2Vzc2lvbiAtIDFdLmVuZCwKICAgICAgICB9OwoKICAgICAgICBheGlvcwogICAgICAgICAgICAucG9zdCgiaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS92MS9wYXJ0aWNpcGFudCIsIGRhdGEpCiAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdQZXNlcnRhIGJlcmhhc2lsIGRpdGFtYmFoa2FuJywKICAgICAgICAgICAgICAgICAgICBzaG93Q29uZmlybUJ1dHRvbjogdHJ1ZQogICAgICAgICAgICAgICAgfSkudGhlbigoKT0+ewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAnTGlzdFBhcnRpY2lwYW50JywgcGFyYW1zOntwYWdlOiAxfX0pOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICAuY2F0Y2goIGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTsKICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgICBheGlvcwogICAgICAgIC5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdjEvc2Vzc2lvbi9hbGwnKQogICAgICAgIC50aGVuKHJlcyA9PiAodGhpcy5zZXNzaW9ucyA9IHJlcy5kYXRhLmRhdGEpKQogICAgICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvcikpCiAgICB9Cn0K"},{"version":3,"sources":["CreateParticipant.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateParticipant.vue","sourceRoot":"src/views/admin/participant","sourcesContent":["<template>\n    <b-container>\n        <b-row>\n            <b-col lg=\"8\">\n                <b-container class=\"bg-white p-3 mt-3 shadow-sm rounded\">\n                <h1 class=\"mt-2\">Tambah Peserta</h1>\n                    <b-form class=\"text-left ml-5 mt-4 mr-5\">\n                        <b-form-group label=\"Nama lengkap :\" label-for=\"namaLengkap\">\n                            <b-form-input type=\"text\" id=\"namaLengkap\" aria-describedby=\"namaHelp\" placeholder=\"Masukan Nama\" v-model=\"dataParticipant.name\"></b-form-input>\n                        </b-form-group>\n                        <b-form-group label=\"NIM :\" label-for=\"nim\">\n                            <b-form-input type=\"text\" id=\"nim\" aria-describedby=\"namaHelp\" placeholder=\"Masukan NIM\" v-model=\"dataParticipant.nim\"></b-form-input>\n                        </b-form-group>\n                        <b-form-group label=\"Email :\" label-for=\"email\">\n                            <b-form-input type=\"text\" id=\"email\" aria-describedby=\"namaHelp\" placeholder=\"Masukan Email\" v-model=\"dataParticipant.email\"></b-form-input>\n                        </b-form-group>\n                        <b-form-group label=\"Sesi :\" label-for=\"session\" :v-if=\"sessions==0\">\n                            <div v-for=\"(session, index) in sessions\" :key=\"index\">\n                                <input type=\"radio\" v-bind:id=\"index+1\" v-bind:value=\"index+1\" v-model=\"dataParticipant.session\"/>\n                                <label class=\"ml-2\" v-bind:for=\"index+1\">{{ index+1 }}</label>\n                            </div>\n                        </b-form-group>\n                        <a @click=\"addData();\" class=\"btn btn-primary\" type=\"submit\">\n                            <i class=\"far fa-save text-white\"></i>\n                            Simpan\n                        </a>\n                    </b-form>\n                </b-container>\n            </b-col>\n        </b-row>\n    </b-container>\n</template>\n\n<script>\nimport axios from 'axios'\nimport Swal from 'sweetalert2'\n\nexport default {\n    name: 'CreateParticipant',\n    data() {\n        return {\n            dataParticipant: {\n                name: '',\n                nim: '',\n                email: '',\n                session: 1,\n            },\n            sessions: []\n        }\n    },\n    methods: {\n        addData() {\n        let data = {\n            'name': this.dataParticipant.name,\n            'nim': this.dataParticipant.nim,\n            'email': this.dataParticipant.email,\n            'sessionId': this.sessions[this.dataParticipant.session - 1]._id,\n            'sessionNumber': this.dataParticipant.session,\n            'sessionMin': this.sessions[this.dataParticipant.session - 1].start,\n            'sessionMax': this.sessions[this.dataParticipant.session - 1].end,\n        };\n\n        axios\n            .post(\"http://localhost:3000/api/v1/participant\", data)\n            .then(() => {\n                        Swal.fire({\n                    icon: 'success',\n                    title: 'Peserta berhasil ditambahkan',\n                    showConfirmButton: true\n                }).then(()=>{\n                    this.$router.push({name: 'ListParticipant', params:{page: 1}});\n                })\n            })\n            //eslint-disable-next-line no-console\n            .catch( err => console.log(err));\n        }\n    },\n    created() {\n        axios\n        .get('http://localhost:3000/api/v1/session/all')\n        .then(res => (this.sessions = res.data.data))\n        .catch(error => console.log(error))\n    }\n}\n</script>\n"]}]}