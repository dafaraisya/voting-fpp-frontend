{"remainingRequest":"/home/dafa/voting-fpp-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dafa/voting-fpp-frontend/src/views/admin/session/EditSession.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dafa/voting-fpp-frontend/src/views/admin/session/EditSession.vue","mtime":1606890956952},{"path":"/home/dafa/voting-fpp-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dafa/voting-fpp-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/dafa/voting-fpp-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dafa/voting-fpp-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IFN3YWwgZnJvbSAnc3dlZXRhbGVydDInCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnRWRpdFNlc3Npb24nLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgIGRhdGFTZXNzaW9uOiB7CiAgICAgICAgICAgIG51bWJlcjogMCwKICAgICAgICAgICAgc3RhcnQ6IHsKICAgICAgICAgICAgICAgIGRhdGU6ICcnLAogICAgICAgICAgICAgICAgdGltZTogJycsCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGVuZDogewogICAgICAgICAgICAgICAgZGF0ZTogJycsCiAgICAgICAgICAgICAgICB0aW1lOiAnJywKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdG90YWxfcGFydGljaXBhbnQ6IDAsCiAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgZWRpdERhdGEoKSB7CiAgICAgICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgICAgICAgJ251bWJlcic6IHRoaXMuZGF0YVNlc3Npb24ubnVtYmVyLAogICAgICAgICAgICAgICAgJ3N0YXJ0JzogdGhpcy5kYXRhU2Vzc2lvbi5zdGFydC5kYXRlICsgIlQiICsgdGhpcy5kYXRhU2Vzc2lvbi5zdGFydC50aW1lICsgIloiLAogICAgICAgICAgICAgICAgJ2VuZCc6IHRoaXMuZGF0YVNlc3Npb24uZW5kLmRhdGUgKyAiVCIgKyB0aGlzLmRhdGFTZXNzaW9uLmVuZC50aW1lICsgIloiCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQXBha2FoIGFuZGEgeWFraW4gbWVuZ3ViYWggc2VzaSBpbmk/JywKICAgICAgICAgICAgICAgICAgICBzaG93RGVueUJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogYFlhYCwKICAgICAgICAgICAgICAgICAgICBkZW55QnV0dG9uVGV4dDogYFRpZGFrYCwKICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNDb25maXJtZWQpIHsgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5wdXQoImh0dHA6Ly9wZW1pcmEuZm1pcGF1bnMuY29tOjMwMDAvYXBpL3YxL3Nlc3Npb24vIit0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsIGRhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1Nlc2kgYmVyaGFzaWwgZGlwZXJiYXJ1aScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbigoKT0+ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ0xpc3RTZXNzaW9uJ30pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCBlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7CiAgICAgICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgfSkKICAgICAgICB9IAogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgYXhpb3MKICAgICAgICAuZ2V0KCdodHRwOi8vcGVtaXJhLmZtaXBhdW5zLmNvbTozMDAwL2FwaS92MS9zZXNzaW9uLycrdGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICAgIC50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IHJlcy5kYXRhLmRhdGE7CiAgICAgICAgICAgIHRoaXMuZGF0YVNlc3Npb24ubnVtYmVyID0gc2Vzc2lvbi5udW1iZXI7CiAgICAgICAgICAgIHRoaXMuZGF0YVNlc3Npb24uc3RhcnQuZGF0ZSA9IHNlc3Npb24uc3RhcnQuc2xpY2UoMCwxMCk7CiAgICAgICAgICAgIHRoaXMuZGF0YVNlc3Npb24uc3RhcnQudGltZSA9IHNlc3Npb24uc3RhcnQuc2xpY2UoMTEsMTYpOwogICAgICAgICAgICB0aGlzLmRhdGFTZXNzaW9uLmVuZC5kYXRlID0gc2Vzc2lvbi5lbmQuc2xpY2UoMCwxMCk7CiAgICAgICAgICAgIHRoaXMuZGF0YVNlc3Npb24uZW5kLnRpbWUgPSBzZXNzaW9uLmVuZC5zbGljZSgxMSwxNik7CiAgICAgICAgICAgIHRoaXMuZGF0YVNlc3Npb24udG90YWxfcGFydGljaXBhbnQgPSBzZXNzaW9uLnRvdGFsX3BhcnRpY2lwYW50OwogICAgICAgICAgICB9KQogICAgICAgIC5jYXRjaChlcnJvciA9PiBjb25zb2xlLmxvZyhlcnJvcikpCiAgICB9Cn0K"},{"version":3,"sources":["EditSession.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditSession.vue","sourceRoot":"src/views/admin/session","sourcesContent":["<template>\n    <b-container>\n        <b-row>\n            <b-col lg=\"8\">\n                <div class=\"container bg-white mt-2 p-3 shadow-sm rounded\">\n                    <b style=\"font-size:26px;\">Edit sesi</b><br/>\n                    <b-form class=\"text-left ml-5 mt-4 mr-5\">\n                        <b-form-group label=\"Sesi ke :\" label-for=\"session_number\">\n                            <b-form-input type=\"number\" id=\"session_number\" v-model=\"dataSession.number\"></b-form-input>\n                        </b-form-group>\n                        <b-form-group label=\"Tanggal mulai :\" label-for=\"started_date\">\n                            <b-form-input type=\"date\" id=\"started_date\" v-model=\"dataSession.start.date\"></b-form-input>\n                        </b-form-group>\n                        <b-form-group label=\"Jam mulai :\" label-for=\"started_time\">\n                            <b-form-input type=\"time\" id=\"started_time\" v-model=\"dataSession.start.time\"></b-form-input>\n                        </b-form-group>\n                        <b-form-group label=\"Tanggal berakhir :\" label-for=\"ended_date\">\n                            <b-form-input type=\"date\" id=\"ended_date\" v-model=\"dataSession.end.date\"></b-form-input>\n                        </b-form-group>\n                        <b-form-group label=\"Jam berakhir :\" label-for=\"ended_time\">\n                            <b-form-input type=\"time\" id=\"ended_time\" v-model=\"dataSession.end.time\"></b-form-input>\n                        </b-form-group>\n                        <a @click=\"editData();\" href=\"#\" class=\"btn btn-primary\" type=\"submit\">\n                            <i class=\"far fa-save text-white\"></i>\n                            Simpan\n                        </a>\n                    </b-form>\n                </div>\n        </b-col>\n        </b-row>\n    </b-container>\n</template>\n\n<script>\nimport axios from 'axios'\nimport Swal from 'sweetalert2'\n\nexport default {\n    name: 'EditSession',\n    data() {\n        return {\n        dataSession: {\n            number: 0,\n            start: {\n                date: '',\n                time: '',\n            },\n            end: {\n                date: '',\n                time: '',\n            },\n            total_participant: 0,\n        }\n        }\n    },\n    methods: {\n        editData() {\n            let data = {\n                'number': this.dataSession.number,\n                'start': this.dataSession.start.date + \"T\" + this.dataSession.start.time + \"Z\",\n                'end': this.dataSession.end.date + \"T\" + this.dataSession.end.time + \"Z\"\n            };\n\n            Swal.fire({\n                    title: 'Apakah anda yakin mengubah sesi ini?',\n                    showDenyButton: true,\n                    confirmButtonText: `Ya`,\n                    denyButtonText: `Tidak`,\n                }).then((result) => {\n                    if (result.isConfirmed) {            \n                        axios\n                            .put(\"http://pemira.fmipauns.com:3000/api/v1/session/\"+this.$route.params.id, data)\n                            .then(() => {\n                                Swal.fire({\n                                    icon: 'success',\n                                    title: 'Sesi berhasil diperbarui',\n                                    showConfirmButton: true\n                                }).then(()=>{\n                                    this.$router.push({name: 'ListSession'});\n                                })\n                            })\n                            //eslint-disable-next-line no-console\n                            .catch( err => console.log(err));\n                    } \n            })\n        } \n    },\n    created() {\n        axios\n        .get('http://pemira.fmipauns.com:3000/api/v1/session/'+this.$route.params.id)\n        .then((res) => {\n            const session = res.data.data;\n            this.dataSession.number = session.number;\n            this.dataSession.start.date = session.start.slice(0,10);\n            this.dataSession.start.time = session.start.slice(11,16);\n            this.dataSession.end.date = session.end.slice(0,10);\n            this.dataSession.end.time = session.end.slice(11,16);\n            this.dataSession.total_participant = session.total_participant;\n            })\n        .catch(error => console.log(error))\n    }\n}\n</script>\n"]}]}