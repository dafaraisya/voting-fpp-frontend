{"remainingRequest":"/home/dafa/voting-fpp-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dafa/voting-fpp-frontend/src/views/admin/candidate/EditCandidate.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dafa/voting-fpp-frontend/src/views/admin/candidate/EditCandidate.vue","mtime":1606890956948},{"path":"/home/dafa/voting-fpp-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dafa/voting-fpp-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/dafa/voting-fpp-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dafa/voting-fpp-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IFN3YWwgZnJvbSAnc3dlZXRhbGVydDInCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0VkaXRDYW5kaWRhdGUnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAgIGRhdGFDYW5kaWRhdGU6IHsKICAgICAgICAgICAgbmFtZTogJycsCiAgICAgICAgICAgIG51bWJlcjogJycsCiAgICAgICAgICAgIGltYWdlOiAnJywKICAgICAgICAgICAgY3Y6ICcnLAogICAgICAgICAgICBkZXNjcmlwdGlvbjoge30sCiAgICAgICAgfSwKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgICAgICBlZGl0RGF0YSgpIHsKICAgICAgICAgICAgbGV0IGZvcm1EYXRhID0gewogICAgICAgICAgICAgICAgbmFtZTp0aGlzLmRhdGFDYW5kaWRhdGUubmFtZSwKICAgICAgICAgICAgICAgIG51bWJlcjp0aGlzLmRhdGFDYW5kaWRhdGUubnVtYmVyLAogICAgICAgICAgICAgICAgc2hvcnREZXNjcmlwdGlvbjp0aGlzLmRhdGFDYW5kaWRhdGUuZGVzY3JpcHRpb24uc2hvcnQsCiAgICAgICAgICAgICAgICB2aXNpb25EZXNjcmlwdGlvbjp0aGlzLmRhdGFDYW5kaWRhdGUuZGVzY3JpcHRpb24udmlzaW9uLAogICAgICAgICAgICAgICAgbWlzc2lvbkRlc2NyaXB0aW9uOnRoaXMuZGF0YUNhbmRpZGF0ZS5kZXNjcmlwdGlvbi5taXNzaW9uLAogICAgICAgICAgICB9OwoKICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0FwYWthaCBhbmRhIHlha2luIG1lbmd1YmFoIGRhdGEga2FuZGlkYXQ/JywKICAgICAgICAgICAgICAgICAgICBzaG93RGVueUJ1dHRvbjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogYFlhYCwKICAgICAgICAgICAgICAgICAgICBkZW55QnV0dG9uVGV4dDogYFRpZGFrYCwKICAgICAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNDb25maXJtZWQpIHsgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgYXhpb3MKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5wdXQoImh0dHA6Ly9wZW1pcmEuZm1pcGF1bnMuY29tOjMwMDAvYXBpL3YxL2NhbmRpZGF0ZS8iK3RoaXMuJHJvdXRlLnBhcmFtcy5pZCwgZm9ybURhdGEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0RhdGEga2FuZGlkYXQgYmVyaGFzaWwgZGlwZXJiYXJ1aScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbigoKT0+ewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7bmFtZTogJ0xpc3RDYW5kaWRhdGUnfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2VzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goIGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTsKICAgICAgICAgICAgICAgICAgICB9IAogICAgICAgICAgICB9KQogICAgICAgIH0sIAogICAgICAgIGhhbmRsZUZpbGVVcGxvYWQodHlwZSl7CiAgICAgICAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwoKICAgICAgICAgICAgaWYodHlwZT09MSkgewogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCd0eXBlJywgJ2ltYWdlJyk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCB0aGlzLiRyZWZzLmltYWdlLmZpbGVzWzBdKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndHlwZScsICdjdicpOwogICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgdGhpcy4kcmVmcy5jdi5maWxlc1swXSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIFN3YWwuZmlyZSh7CiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdBcGFrYWggYW5kYSB5YWtpbiBtZW5ndWJhaCBkYXRhIGthbmRpZGF0IGluaT8nLAogICAgICAgICAgICAgICAgICAgIHNob3dEZW55QnV0dG9uOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiBgWWFgLAogICAgICAgICAgICAgICAgICAgIGRlbnlCdXR0b25UZXh0OiBgVGlkYWtgLAogICAgICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc0NvbmZpcm1lZCkgeyAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICBheGlvcwogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnB1dCgiaHR0cDovL3BlbWlyYS5mbWlwYXVucy5jb206MzAwMC9hcGkvdjEvY2FuZGlkYXRlLyIrdGhpcy4kcm91dGUucGFyYW1zLmlkKyIvdXBsb2FkIiwgZm9ybURhdGEsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRGF0YSBrYW5kaWRhdCBiZXJoYXNpbCBkaXBlcmJhcnVpJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS50aGVuKCgpPT57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCBlcnIgPT4gY29uc29sZS5sb2coZXJyKSk7CiAgICAgICAgICAgICAgICAgICAgfSAKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIGdldEltYWdlKHVybCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygpCiAgICAgICAgICAgIHJldHVybiAnaHR0cDovL3BlbWlyYS5mbWlwYXVucy5jb20vaW1hZ2VzLycrdXJsOwogICAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCkgewogICAgICAgIGF4aW9zCiAgICAgICAgLmdldCgnaHR0cDovL3BlbWlyYS5mbWlwYXVucy5jb206MzAwMC9hcGkvdjEvY2FuZGlkYXRlLycrdGhpcy4kcm91dGUucGFyYW1zLmlkKQogICAgICAgIC50aGVuKHJlcyA9PiAodGhpcy5kYXRhQ2FuZGlkYXRlID0gcmVzLmRhdGEuZGF0YSkpCiAgICAgICAgLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yKSkKICAgIH0KfQo="},{"version":3,"sources":["EditCandidate.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"EditCandidate.vue","sourceRoot":"src/views/admin/candidate","sourcesContent":["<template>\n    <b-container>\n        <b-row>\n            <b-col lg=\"8\">\n                <div class=\"container bg-white mt-2 p-3 text-left shadow-sm rounded\">\n                    <b-form-group label=\"Nama lengkap :\" label-for=\"namaLengkap\">\n                        <b-form-input type=\"text\" id=\"namaLengkap\" aria-describedby=\"namaHelp\" placeholder=\"Masukan Nama\" v-model=\"dataCandidate.name\"></b-form-input>\n                    </b-form-group>\n                    <b-form-group label=\"No Urut :\" label-for=\"number\">\n                        <b-form-input type=\"text\" id=\"number\" aria-describedby=\"namaHelp\" placeholder=\"Masukan No urut\" v-model=\"dataCandidate.number\"></b-form-input>\n                    </b-form-group>\n                    <b-form-group label=\"Foto :\" label-for=\"image\">\n                        <input id=\"image\" ref=\"image\" type=\"file\" v-on:change=\"handleFileUpload(1)\"/>\n                    </b-form-group>\n                    <b-form-group label=\"CV :\" label-for=\"cv\">\n                        <input id=\"cv\" ref=\"cv\" type=\"file\" v-on:change=\"handleFileUpload(2)\"/>\n                    </b-form-group>\n                    <b-form-group label=\"Deskripsi :\" label-for=\"short\">\n                        <vue-editor type=\"text\" id=\"short\" aria-describedby=\"namaHelp\" placeholder=\"Masukan Deskripsi\" v-model=\"dataCandidate.description.short\"></vue-editor>\n                    </b-form-group>\n                    <b-form-group label=\"Visi :\" label-for=\"vision\">\n                        <vue-editor type=\"text\" id=\"vision\" aria-describedby=\"namaHelp\" placeholder=\"Masukan Visi\" v-model=\"dataCandidate.description.vision\"></vue-editor>\n                    </b-form-group>\n                    <b-form-group label=\"Misi :\" label-for=\"mission\">\n                        <vue-editor type=\"text\" id=\"mission\" aria-describedby=\"namaHelp\" placeholder=\"Masukan Misi\" v-model=\"dataCandidate.description.mission\"></vue-editor>\n                    </b-form-group>\n                    <button @click=\"editData();\" class=\"btn btn-primary\">\n                        <i class=\"far fa-save text-white\"></i>\n                        Simpan\n                    </button>\n                </div>\n            </b-col>\n        </b-row>\n    </b-container>\n</template>\n\n<script>\nimport axios from 'axios'\nimport Swal from 'sweetalert2'\n\nexport default {\n  name: 'EditCandidate',\n  data() {\n    return {\n        dataCandidate: {\n            name: '',\n            number: '',\n            image: '',\n            cv: '',\n            description: {},\n        },\n    }\n  },\n  methods: {\n        editData() {\n            let formData = {\n                name:this.dataCandidate.name,\n                number:this.dataCandidate.number,\n                shortDescription:this.dataCandidate.description.short,\n                visionDescription:this.dataCandidate.description.vision,\n                missionDescription:this.dataCandidate.description.mission,\n            };\n\n            Swal.fire({\n                    title: 'Apakah anda yakin mengubah data kandidat?',\n                    showDenyButton: true,\n                    confirmButtonText: `Ya`,\n                    denyButtonText: `Tidak`,\n                }).then((result) => {\n                    if (result.isConfirmed) {            \n                        axios\n                            .put(\"http://pemira.fmipauns.com:3000/api/v1/candidate/\"+this.$route.params.id, formData)\n                            .then(() => {\n                                Swal.fire({\n                                    icon: 'success',\n                                    title: 'Data kandidat berhasil diperbarui',\n                                    showConfirmButton: true\n                                }).then(()=>{\n                                    this.$router.push({name: 'ListCandidate'});\n                                })\n                            })\n                            //eslint-disable-next-line no-console\n                            .catch( err => console.log(err));\n                    } \n            })\n        }, \n        handleFileUpload(type){\n            let formData = new FormData();\n\n            if(type==1) {\n                formData.append('type', 'image');\n                formData.append('file', this.$refs.image.files[0]);\n            } else {\n                formData.append('type', 'cv');\n                formData.append('file', this.$refs.cv.files[0]);\n            }\n\n            Swal.fire({\n                    title: 'Apakah anda yakin mengubah data kandidat ini?',\n                    showDenyButton: true,\n                    confirmButtonText: `Ya`,\n                    denyButtonText: `Tidak`,\n                }).then((result) => {\n                    if (result.isConfirmed) {            \n                        axios\n                            .put(\"http://pemira.fmipauns.com:3000/api/v1/candidate/\"+this.$route.params.id+\"/upload\", formData,\n                            {\n                                headers: {\n                                    'Content-Type': 'multipart/form-data'\n                                }\n                            })\n                            .then(() => {\n                                Swal.fire({\n                                    icon: 'success',\n                                    title: 'Data kandidat berhasil diperbarui',\n                                    showConfirmButton: true\n                                }).then(()=>{\n                                    \n                                })\n                            })\n                            //eslint-disable-next-line no-console\n                            .catch( err => console.log(err));\n                    } \n            })\n        },\n        getImage(url) {\n            console.log()\n            return 'http://pemira.fmipauns.com/images/'+url;\n        }\n    },\n    mounted() {\n        axios\n        .get('http://pemira.fmipauns.com:3000/api/v1/candidate/'+this.$route.params.id)\n        .then(res => (this.dataCandidate = res.data.data))\n        .catch(error => console.log(error))\n    }\n}\n</script>\n"]}]}