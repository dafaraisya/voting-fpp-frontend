{"remainingRequest":"/home/dafa/voting-fpp-frontend/node_modules/babel-loader/lib/index.js!/home/dafa/voting-fpp-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dafa/voting-fpp-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dafa/voting-fpp-frontend/src/views/admin/candidate/EditCandidate.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dafa/voting-fpp-frontend/src/views/admin/candidate/EditCandidate.vue","mtime":1606890956948},{"path":"/home/dafa/voting-fpp-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dafa/voting-fpp-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/dafa/voting-fpp-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dafa/voting-fpp-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBTd2FsIGZyb20gJ3N3ZWV0YWxlcnQyJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdFZGl0Q2FuZGlkYXRlJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YUNhbmRpZGF0ZTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIG51bWJlcjogJycsCiAgICAgICAgaW1hZ2U6ICcnLAogICAgICAgIGN2OiAnJywKICAgICAgICBkZXNjcmlwdGlvbjoge30KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGVkaXREYXRhOiBmdW5jdGlvbiBlZGl0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBmb3JtRGF0YSA9IHsKICAgICAgICBuYW1lOiB0aGlzLmRhdGFDYW5kaWRhdGUubmFtZSwKICAgICAgICBudW1iZXI6IHRoaXMuZGF0YUNhbmRpZGF0ZS5udW1iZXIsCiAgICAgICAgc2hvcnREZXNjcmlwdGlvbjogdGhpcy5kYXRhQ2FuZGlkYXRlLmRlc2NyaXB0aW9uLnNob3J0LAogICAgICAgIHZpc2lvbkRlc2NyaXB0aW9uOiB0aGlzLmRhdGFDYW5kaWRhdGUuZGVzY3JpcHRpb24udmlzaW9uLAogICAgICAgIG1pc3Npb25EZXNjcmlwdGlvbjogdGhpcy5kYXRhQ2FuZGlkYXRlLmRlc2NyaXB0aW9uLm1pc3Npb24KICAgICAgfTsKICAgICAgU3dhbC5maXJlKHsKICAgICAgICB0aXRsZTogJ0FwYWthaCBhbmRhIHlha2luIG1lbmd1YmFoIGRhdGEga2FuZGlkYXQ/JywKICAgICAgICBzaG93RGVueUJ1dHRvbjogdHJ1ZSwKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIllhIiwKICAgICAgICBkZW55QnV0dG9uVGV4dDogIlRpZGFrIgogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBpZiAocmVzdWx0LmlzQ29uZmlybWVkKSB7CiAgICAgICAgICBheGlvcy5wdXQoImh0dHA6Ly9wZW1pcmEuZm1pcGF1bnMuY29tOjMwMDAvYXBpL3YxL2NhbmRpZGF0ZS8iICsgX3RoaXMuJHJvdXRlLnBhcmFtcy5pZCwgZm9ybURhdGEpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBTd2FsLmZpcmUoewogICAgICAgICAgICAgIGljb246ICdzdWNjZXNzJywKICAgICAgICAgICAgICB0aXRsZTogJ0RhdGEga2FuZGlkYXQgYmVyaGFzaWwgZGlwZXJiYXJ1aScsCiAgICAgICAgICAgICAgc2hvd0NvbmZpcm1CdXR0b246IHRydWUKICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6ICdMaXN0Q2FuZGlkYXRlJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pIC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGUKICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVGaWxlVXBsb2FkOiBmdW5jdGlvbiBoYW5kbGVGaWxlVXBsb2FkKHR5cGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKCiAgICAgIGlmICh0eXBlID09IDEpIHsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3R5cGUnLCAnaW1hZ2UnKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCB0aGlzLiRyZWZzLmltYWdlLmZpbGVzWzBdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3R5cGUnLCAnY3YnKTsKICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCB0aGlzLiRyZWZzLmN2LmZpbGVzWzBdKTsKICAgICAgfQoKICAgICAgU3dhbC5maXJlKHsKICAgICAgICB0aXRsZTogJ0FwYWthaCBhbmRhIHlha2luIG1lbmd1YmFoIGRhdGEga2FuZGlkYXQgaW5pPycsCiAgICAgICAgc2hvd0RlbnlCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJZYSIsCiAgICAgICAgZGVueUJ1dHRvblRleHQ6ICJUaWRhayIKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC5pc0NvbmZpcm1lZCkgewogICAgICAgICAgYXhpb3MucHV0KCJodHRwOi8vcGVtaXJhLmZtaXBhdW5zLmNvbTozMDAwL2FwaS92MS9jYW5kaWRhdGUvIiArIF90aGlzMi4kcm91dGUucGFyYW1zLmlkICsgIi91cGxvYWQiLCBmb3JtRGF0YSwgewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJwogICAgICAgICAgICB9CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgdGl0bGU6ICdEYXRhIGthbmRpZGF0IGJlcmhhc2lsIGRpcGVyYmFydWknLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge30pOwogICAgICAgICAgfSkgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldEltYWdlOiBmdW5jdGlvbiBnZXRJbWFnZSh1cmwpIHsKICAgICAgY29uc29sZS5sb2coKTsKICAgICAgcmV0dXJuICdodHRwOi8vcGVtaXJhLmZtaXBhdW5zLmNvbS9pbWFnZXMvJyArIHVybDsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICBheGlvcy5nZXQoJ2h0dHA6Ly9wZW1pcmEuZm1pcGF1bnMuY29tOjMwMDAvYXBpL3YxL2NhbmRpZGF0ZS8nICsgdGhpcy4kcm91dGUucGFyYW1zLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgcmV0dXJuIF90aGlzMy5kYXRhQ2FuZGlkYXRlID0gcmVzLmRhdGEuZGF0YTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IpOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["EditCandidate.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <b-container>\n        <b-row>\n            <b-col lg=\"8\">\n                <div class=\"container bg-white mt-2 p-3 text-left shadow-sm rounded\">\n                    <b-form-group label=\"Nama lengkap :\" label-for=\"namaLengkap\">\n                        <b-form-input type=\"text\" id=\"namaLengkap\" aria-describedby=\"namaHelp\" placeholder=\"Masukan Nama\" v-model=\"dataCandidate.name\"></b-form-input>\n                    </b-form-group>\n                    <b-form-group label=\"No Urut :\" label-for=\"number\">\n                        <b-form-input type=\"text\" id=\"number\" aria-describedby=\"namaHelp\" placeholder=\"Masukan No urut\" v-model=\"dataCandidate.number\"></b-form-input>\n                    </b-form-group>\n                    <b-form-group label=\"Foto :\" label-for=\"image\">\n                        <input id=\"image\" ref=\"image\" type=\"file\" v-on:change=\"handleFileUpload(1)\"/>\n                    </b-form-group>\n                    <b-form-group label=\"CV :\" label-for=\"cv\">\n                        <input id=\"cv\" ref=\"cv\" type=\"file\" v-on:change=\"handleFileUpload(2)\"/>\n                    </b-form-group>\n                    <b-form-group label=\"Deskripsi :\" label-for=\"short\">\n                        <vue-editor type=\"text\" id=\"short\" aria-describedby=\"namaHelp\" placeholder=\"Masukan Deskripsi\" v-model=\"dataCandidate.description.short\"></vue-editor>\n                    </b-form-group>\n                    <b-form-group label=\"Visi :\" label-for=\"vision\">\n                        <vue-editor type=\"text\" id=\"vision\" aria-describedby=\"namaHelp\" placeholder=\"Masukan Visi\" v-model=\"dataCandidate.description.vision\"></vue-editor>\n                    </b-form-group>\n                    <b-form-group label=\"Misi :\" label-for=\"mission\">\n                        <vue-editor type=\"text\" id=\"mission\" aria-describedby=\"namaHelp\" placeholder=\"Masukan Misi\" v-model=\"dataCandidate.description.mission\"></vue-editor>\n                    </b-form-group>\n                    <button @click=\"editData();\" class=\"btn btn-primary\">\n                        <i class=\"far fa-save text-white\"></i>\n                        Simpan\n                    </button>\n                </div>\n            </b-col>\n        </b-row>\n    </b-container>\n</template>\n\n<script>\nimport axios from 'axios'\nimport Swal from 'sweetalert2'\n\nexport default {\n  name: 'EditCandidate',\n  data() {\n    return {\n        dataCandidate: {\n            name: '',\n            number: '',\n            image: '',\n            cv: '',\n            description: {},\n        },\n    }\n  },\n  methods: {\n        editData() {\n            let formData = {\n                name:this.dataCandidate.name,\n                number:this.dataCandidate.number,\n                shortDescription:this.dataCandidate.description.short,\n                visionDescription:this.dataCandidate.description.vision,\n                missionDescription:this.dataCandidate.description.mission,\n            };\n\n            Swal.fire({\n                    title: 'Apakah anda yakin mengubah data kandidat?',\n                    showDenyButton: true,\n                    confirmButtonText: `Ya`,\n                    denyButtonText: `Tidak`,\n                }).then((result) => {\n                    if (result.isConfirmed) {            \n                        axios\n                            .put(\"http://pemira.fmipauns.com:3000/api/v1/candidate/\"+this.$route.params.id, formData)\n                            .then(() => {\n                                Swal.fire({\n                                    icon: 'success',\n                                    title: 'Data kandidat berhasil diperbarui',\n                                    showConfirmButton: true\n                                }).then(()=>{\n                                    this.$router.push({name: 'ListCandidate'});\n                                })\n                            })\n                            //eslint-disable-next-line no-console\n                            .catch( err => console.log(err));\n                    } \n            })\n        }, \n        handleFileUpload(type){\n            let formData = new FormData();\n\n            if(type==1) {\n                formData.append('type', 'image');\n                formData.append('file', this.$refs.image.files[0]);\n            } else {\n                formData.append('type', 'cv');\n                formData.append('file', this.$refs.cv.files[0]);\n            }\n\n            Swal.fire({\n                    title: 'Apakah anda yakin mengubah data kandidat ini?',\n                    showDenyButton: true,\n                    confirmButtonText: `Ya`,\n                    denyButtonText: `Tidak`,\n                }).then((result) => {\n                    if (result.isConfirmed) {            \n                        axios\n                            .put(\"http://pemira.fmipauns.com:3000/api/v1/candidate/\"+this.$route.params.id+\"/upload\", formData,\n                            {\n                                headers: {\n                                    'Content-Type': 'multipart/form-data'\n                                }\n                            })\n                            .then(() => {\n                                Swal.fire({\n                                    icon: 'success',\n                                    title: 'Data kandidat berhasil diperbarui',\n                                    showConfirmButton: true\n                                }).then(()=>{\n                                    \n                                })\n                            })\n                            //eslint-disable-next-line no-console\n                            .catch( err => console.log(err));\n                    } \n            })\n        },\n        getImage(url) {\n            console.log()\n            return 'http://pemira.fmipauns.com/images/'+url;\n        }\n    },\n    mounted() {\n        axios\n        .get('http://pemira.fmipauns.com:3000/api/v1/candidate/'+this.$route.params.id)\n        .then(res => (this.dataCandidate = res.data.data))\n        .catch(error => console.log(error))\n    }\n}\n</script>\n"],"sourceRoot":"src/views/admin/candidate"}]}