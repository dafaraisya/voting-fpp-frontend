{"remainingRequest":"/home/dafa/voting-fpp-frontend/node_modules/babel-loader/lib/index.js!/home/dafa/voting-fpp-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/dafa/voting-fpp-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dafa/voting-fpp-frontend/src/views/admin/session/EditSession.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dafa/voting-fpp-frontend/src/views/admin/session/EditSession.vue","mtime":1609147436239},{"path":"/home/dafa/voting-fpp-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dafa/voting-fpp-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/dafa/voting-fpp-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/dafa/voting-fpp-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgU3dhbCBmcm9tICdzd2VldGFsZXJ0Mic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRWRpdFNlc3Npb24nLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkYXRhU2Vzc2lvbjogewogICAgICAgIG51bWJlcjogMCwKICAgICAgICBzdGFydDogewogICAgICAgICAgZGF0ZTogJycsCiAgICAgICAgICB0aW1lOiAnJwogICAgICAgIH0sCiAgICAgICAgZW5kOiB7CiAgICAgICAgICBkYXRlOiAnJywKICAgICAgICAgIHRpbWU6ICcnCiAgICAgICAgfSwKICAgICAgICB0b3RhbF9wYXJ0aWNpcGFudDogMAogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZWRpdERhdGE6IGZ1bmN0aW9uIGVkaXREYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgJ251bWJlcic6IHRoaXMuZGF0YVNlc3Npb24ubnVtYmVyLAogICAgICAgICdzdGFydCc6IHRoaXMuZGF0YVNlc3Npb24uc3RhcnQuZGF0ZSArICJUIiArIHRoaXMuZGF0YVNlc3Npb24uc3RhcnQudGltZSArICJaIiwKICAgICAgICAnZW5kJzogdGhpcy5kYXRhU2Vzc2lvbi5lbmQuZGF0ZSArICJUIiArIHRoaXMuZGF0YVNlc3Npb24uZW5kLnRpbWUgKyAiWiIKICAgICAgfTsKICAgICAgU3dhbC5maXJlKHsKICAgICAgICB0aXRsZTogJ0FwYWthaCBhbmRhIHlha2luIG1lbmd1YmFoIHNlc2kgaW5pPycsCiAgICAgICAgc2hvd0RlbnlCdXR0b246IHRydWUsCiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICJZYSIsCiAgICAgICAgZGVueUJ1dHRvblRleHQ6ICJUaWRhayIKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdC5pc0NvbmZpcm1lZCkgewogICAgICAgICAgYXhpb3MucHV0KCJodHRwOi8vcGVtaXJhLmZwcHVuZGlwLmNvbTozMDAwL2FwaS92MS9zZXNzaW9uLyIgKyBfdGhpcy4kcm91dGUucGFyYW1zLmlkLCBkYXRhKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgU3dhbC5maXJlKHsKICAgICAgICAgICAgICBpY29uOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgdGl0bGU6ICdTZXNpIGJlcmhhc2lsIGRpcGVyYmFydWknLAogICAgICAgICAgICAgIHNob3dDb25maXJtQnV0dG9uOiB0cnVlCiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICBuYW1lOiAnTGlzdFNlc3Npb24nCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSkgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIGF4aW9zLmdldCgnaHR0cDovL3BlbWlyYS5mcHB1bmRpcC5jb206MzAwMC9hcGkvdjEvc2Vzc2lvbi8nICsgdGhpcy4kcm91dGUucGFyYW1zLmlkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgdmFyIHNlc3Npb24gPSByZXMuZGF0YS5kYXRhOwogICAgICBfdGhpczIuZGF0YVNlc3Npb24ubnVtYmVyID0gc2Vzc2lvbi5udW1iZXI7CiAgICAgIF90aGlzMi5kYXRhU2Vzc2lvbi5zdGFydC5kYXRlID0gc2Vzc2lvbi5zdGFydC5zbGljZSgwLCAxMCk7CiAgICAgIF90aGlzMi5kYXRhU2Vzc2lvbi5zdGFydC50aW1lID0gc2Vzc2lvbi5zdGFydC5zbGljZSgxMSwgMTYpOwogICAgICBfdGhpczIuZGF0YVNlc3Npb24uZW5kLmRhdGUgPSBzZXNzaW9uLmVuZC5zbGljZSgwLCAxMCk7CiAgICAgIF90aGlzMi5kYXRhU2Vzc2lvbi5lbmQudGltZSA9IHNlc3Npb24uZW5kLnNsaWNlKDExLCAxNik7CiAgICAgIF90aGlzMi5kYXRhU2Vzc2lvbi50b3RhbF9wYXJ0aWNpcGFudCA9IHNlc3Npb24udG90YWxfcGFydGljaXBhbnQ7CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycm9yKTsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["EditSession.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <b-container>\n        <b-row>\n            <b-col lg=\"8\">\n                <div class=\"container bg-white mt-2 p-3 shadow-sm rounded\">\n                    <b style=\"font-size:26px;\">Edit sesi</b><br/>\n                    <b-form class=\"text-left ml-5 mt-4 mr-5\">\n                        <b-form-group label=\"Sesi ke :\" label-for=\"session_number\">\n                            <b-form-input type=\"number\" id=\"session_number\" v-model=\"dataSession.number\"></b-form-input>\n                        </b-form-group>\n                        <b-form-group label=\"Tanggal mulai :\" label-for=\"started_date\">\n                            <b-form-input type=\"date\" id=\"started_date\" v-model=\"dataSession.start.date\"></b-form-input>\n                        </b-form-group>\n                        <b-form-group label=\"Jam mulai :\" label-for=\"started_time\">\n                            <b-form-input type=\"time\" id=\"started_time\" v-model=\"dataSession.start.time\"></b-form-input>\n                        </b-form-group>\n                        <b-form-group label=\"Tanggal berakhir :\" label-for=\"ended_date\">\n                            <b-form-input type=\"date\" id=\"ended_date\" v-model=\"dataSession.end.date\"></b-form-input>\n                        </b-form-group>\n                        <b-form-group label=\"Jam berakhir :\" label-for=\"ended_time\">\n                            <b-form-input type=\"time\" id=\"ended_time\" v-model=\"dataSession.end.time\"></b-form-input>\n                        </b-form-group>\n                        <a @click=\"editData();\" href=\"#\" class=\"btn btn-primary\" type=\"submit\">\n                            <i class=\"far fa-save text-white\"></i>\n                            Simpan\n                        </a>\n                    </b-form>\n                </div>\n        </b-col>\n        </b-row>\n    </b-container>\n</template>\n\n<script>\nimport axios from 'axios'\nimport Swal from 'sweetalert2'\n\nexport default {\n    name: 'EditSession',\n    data() {\n        return {\n        dataSession: {\n            number: 0,\n            start: {\n                date: '',\n                time: '',\n            },\n            end: {\n                date: '',\n                time: '',\n            },\n            total_participant: 0,\n        }\n        }\n    },\n    methods: {\n        editData() {\n            let data = {\n                'number': this.dataSession.number,\n                'start': this.dataSession.start.date + \"T\" + this.dataSession.start.time + \"Z\",\n                'end': this.dataSession.end.date + \"T\" + this.dataSession.end.time + \"Z\"\n            };\n\n            Swal.fire({\n                    title: 'Apakah anda yakin mengubah sesi ini?',\n                    showDenyButton: true,\n                    confirmButtonText: `Ya`,\n                    denyButtonText: `Tidak`,\n                }).then((result) => {\n                    if (result.isConfirmed) {            \n                        axios\n                            .put(\"http://pemira.fppundip.com:3000/api/v1/session/\"+this.$route.params.id, data)\n                            .then(() => {\n                                Swal.fire({\n                                    icon: 'success',\n                                    title: 'Sesi berhasil diperbarui',\n                                    showConfirmButton: true\n                                }).then(()=>{\n                                    this.$router.push({name: 'ListSession'});\n                                })\n                            })\n                            //eslint-disable-next-line no-console\n                            .catch( err => console.log(err));\n                    } \n            })\n        } \n    },\n    created() {\n        axios\n        .get('http://pemira.fppundip.com:3000/api/v1/session/'+this.$route.params.id)\n        .then((res) => {\n            const session = res.data.data;\n            this.dataSession.number = session.number;\n            this.dataSession.start.date = session.start.slice(0,10);\n            this.dataSession.start.time = session.start.slice(11,16);\n            this.dataSession.end.date = session.end.slice(0,10);\n            this.dataSession.end.time = session.end.slice(11,16);\n            this.dataSession.total_participant = session.total_participant;\n            })\n        .catch(error => console.log(error))\n    }\n}\n</script>\n"],"sourceRoot":"src/views/admin/session"}]}